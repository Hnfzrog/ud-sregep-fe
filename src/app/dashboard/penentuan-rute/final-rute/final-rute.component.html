<div class="content-body px-3 px-md-5">
    <!-- Filter Tanggal -->
    <div class="d-flex justify-content-between align-items-center mb-4 flex-wrap gap-2">
      <!-- Input Tanggal -->
      <div class="input-group" style="max-width: 250px;">
        <input
          type="text"
          class="form-control"
          bsDatepicker
          [bsConfig]="bsConfig"
          [(ngModel)]="selectedDate"
          (ngModelChange)="onDateChange($event)"
          placeholder="Pilih tanggal"
        />
        <span class="input-group-text bg-success text-white">
          <i class="fa fa-calendar"></i>
        </span>
      </div>
    
      <!-- Toggle Optimasi Rute -->
      <div class="custom-control custom-switch">
        <input
          type="checkbox"
          class="custom-control-input"
          id="switchOptimasi"
          [(ngModel)]="isOptimasi"
          (ngModelChange)="onToggleOptimasi($event)"
        />
        <label class="custom-control-label" for="switchOptimasi">Optimasi Rute</label>
      </div>
    </div>
    
    <!-- Tampilkan Tiap Cluster -->
    <div *ngFor="let cluster of rows" class="mb-5">
      <div class="card border-0 shadow-sm rounded-3">
        <div class="card-header bg-success text-white d-flex justify-content-between flex-wrap">
          <strong>Cluster #{{ cluster.clusterId }}</strong>
          <span>{{ cluster.tanggal }}</span>
        </div>
        <div class="card-body">
          <div class="row gy-2">
            <div class="col-md-4"><strong>Kendaraan:</strong> {{ cluster.kendaraan }}</div>
            <div class="col-md-4"><strong>Total Jarak:</strong> {{ cluster.totalJarak }} km</div>
            <div class="col-md-4"><strong>Total Waktu:</strong> {{ cluster.totalWaktu }}</div>
          </div>
        
          <!-- Informasi Rute yang perlu ditempuh -->
          <div class="alert alert-success mt-3">
            <h6 class="mb-2"><strong>Rute yang perlu ditempuh:</strong></h6>
            <div>
              <ng-container>
                {{ cluster.rute }}
              </ng-container>
            </div>
          </div>
        
          <div class="table-responsive mt-4">
            <table class="table table-bordered table-hover" style="background-color: #fff;">
              <thead style="background-color: #f5f5f5;">
                <tr>
                  <th>No</th>
                  <th>Nama Pengepul</th>
                  <th>Alamat</th>
                  <th>Total Waktu</th>
                  <th>Nilai ekspektasi bobot kertas</th>
                  <th>Bobot kertas diambil</th>
                  <th>Sisa bobot kertas diambil</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let r of cluster.routes">
                  <td>{{ r.no }}</td>
                  <td>{{ r.nama_pengepul }}</td>
                  <td>{{ r.alamat }}</td>
                  <td>{{ r.total_waktu }}</td>
                  <td>{{ r.nilai_awal }}</td>
                  <td>{{ r.nilai_diangkut }}</td>
                  <td>{{ r.nilai_akhir }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        
      </div>
    </div>
  </div>
  